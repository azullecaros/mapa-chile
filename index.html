<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>Mapa de Chile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
<style>
  body { margin: 0; padding: 0; background-color: #F1F1F1; }
  #map { width: 100%; height: 100vh; }
  .marker {
    width: 20px;
    height: 20px;
    background-color: #E2D2F6;
    border: 2px solid #C3C3C3;
    border-radius: 50%;
    cursor: pointer;
  }
  .popup {
    font-family: Arial, sans-serif;
    text-align: center;
  }
  .popup h3 {
    margin: 0;
    font-size: 18px;
    font-weight: bold;
    color: #2E145B;
  }
  .popup .card-container {
    display: flex;
    gap: 10px;
    margin-top: 10px;
  }
  .popup .card {
    flex: 1;
    padding: 10px;
    border-radius: 10px;
    color: #2E145B;
  }
  .popup .card p {
    margin: 5px 0 0;
    font-size: 12px;
  }
  .popup .card h4 {
    margin: 0;
    font-size: 20px;
    font-weight: bold;
  }
  .manuales { background-color: #E2D2F6; }
  .maleta { background-color: #B0C4DE; }
  .mobilelab { background-color: #AEE1E1; }
</style>
</head>
<body>
<div id="map"></div>
<script>
mapboxgl.accessToken = 'TU_TOKEN_MAPBOX';

// Inicializar mapa
const map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/light-v11',
  center: [-71.0, -33.5],
  zoom: 4,
  attributionControl: false
});

// Lista de regiones con coordenadas y datos
const regiones = [
  { nombre: "Arica y Parinacota", coords: [-70.304, -18.478], manuales: 300, maleta: 250, mobilelab: 200 },
  { nombre: "Tarapacá", coords: [-69.677, -20.213], manuales: 280, maleta: 230, mobilelab: 190 },
  { nombre: "Antofagasta", coords: [-69.322, -23.650], manuales: 350, maleta: 300, mobilelab: 250 },
  { nombre: "Atacama", coords: [-70.331, -27.366], manuales: 320, maleta: 280, mobilelab: 230 },
  { nombre: "Coquimbo", coords: [-71.251, -29.953], manuales: 400, maleta: 350, mobilelab: 300 },
  { nombre: "Valparaíso", coords: [-71.612, -33.047], manuales: 420, maleta: 380, mobilelab: 320 },
  { nombre: "Metropolitana", coords: [-70.648, -33.456], manuales: 800, maleta: 700, mobilelab: 600 },
  { nombre: "O'Higgins", coords: [-70.741, -34.170], manuales: 410, maleta: 360, mobilelab: 310 },
  { nombre: "Maule", coords: [-71.649, -35.426], manuales: 380, maleta: 340, mobilelab: 290 },
  { nombre: "Ñuble", coords: [-72.103, -36.609], manuales: 300, maleta: 260, mobilelab: 220 },
  { nombre: "Biobío", coords: [-73.050, -37.469], manuales: 390, maleta: 350, mobilelab: 310 },
  { nombre: "La Araucanía", coords: [-72.590, -38.739], manuales: 350, maleta: 310, mobilelab: 270 },
  { nombre: "Los Ríos", coords: [-72.957, -39.817], manuales: 330, maleta: 290, mobilelab: 250 },
  { nombre: "Los Lagos", coords: [-73.168, -41.471], manuales: 370, maleta: 330, mobilelab: 290 },
  { nombre: "Aysén", coords: [-72.559, -45.402], manuales: 280, maleta: 240, mobilelab: 200 },
  { nombre: "Magallanes", coords: [-70.923, -53.162], manuales: 260, maleta: 220, mobilelab: 180 }
];

// Agregar marcadores
regiones.forEach(region => {
  const el = document.createElement('div');
  el.className = 'marker';

  const popupContent = `
    <div class="popup">
      <h3>${region.nombre}</h3>
      <div class="card-container">
        <div class="card manuales">
          <h4>${region.manuales}</h4>
          <p>usuarios de<br><strong>Manuales</strong></p>
        </div>
        <div class="card maleta">
          <h4>${region.maleta}</h4>
          <p>usuarios de<br><strong>Maleta</strong></p>
        </div>
        <div class="card mobilelab">
          <h4>${region.mobilelab}</h4>
          <p>usuarios de<br><strong>Mobile Lab</strong></p>
        </div>
      </div>
    </div>
  `;

  const popup = new mapboxgl.Popup({ offset: 25 }).setHTML(popupContent);

  new mapboxgl.Marker(el)
    .setLngLat(region.coords)
    .setPopup(popup)
    .addTo(map);
});
</script>
</body>
</html>


